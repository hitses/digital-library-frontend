<table class="min-w-full divide-y divide-slate-200 dark:divide-slate-800">
  <thead class="bg-slate-50 dark:bg-slate-800/50">
    <tr>
      <th
        class="px-4 py-3 text-left text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        Portada
      </th>
      <th
        class="px-4 py-3 text-left text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        TÃ­tulo
      </th>
      <th
        class="px-4 py-3 text-left text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        Autor
      </th>
      <th
        class="px-4 py-3 text-left text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        ISBN
      </th>
      <th
        class="px-4 py-3 text-left text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        Estado
      </th>
      <th
        class="px-4 py-3 text-right text-xs font-semibold tracking-wider text-slate-600 uppercase dark:text-slate-400"
      >
        Acciones
      </th>
    </tr>
  </thead>

  <tbody class="divide-y divide-slate-100 bg-white dark:divide-slate-800 dark:bg-slate-900">
    @for (book of books(); track book._id) {
      <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
        <td class="px-4 py-3">
          <img
            [src]="book.coverUrl"
            alt="{{ book.title }}"
            class="h-12 w-9 rounded-md object-cover"
          />
        </td>
        <td class="px-4 py-3 text-sm font-medium text-slate-800 uppercase dark:text-slate-200">
          <a
            class="text-amber-600 underline dark:text-amber-500"
            [routerLink]="`/dash/books/${book._id}`"
            >{{ book.title }}</a
          >
        </td>
        <td class="px-4 py-3 text-sm text-slate-600 uppercase dark:text-slate-400">
          {{ book.author }}
        </td>
        <td class="px-4 py-3 text-xs text-slate-500 dark:text-slate-500">{{ book.isbn }}</td>
        <td class="px-4 py-3">
          @if (book.featured) {
            <span
              class="rounded-full bg-green-100 px-2 py-1 text-xs font-semibold text-green-700 dark:bg-green-900/30 dark:text-green-400"
              >Destacado</span
            >
          } @else {
            <p
              class="cursor-pointer text-xs font-semibold text-slate-600 underline dark:text-slate-400"
              (click)="onToggleFeatured(book._id, true)"
            >
              Destacar
            </p>
          }
        </td>
        <td class="px-4 py-3 text-right">
          <div class="flex justify-end gap-4">
            <button
              class="cursor-pointer text-sm font-medium text-blue-600 hover:underline dark:text-blue-400"
              [routerLink]="['/dash/books/edit', book._id]"
            >
              Editar
            </button>

            <button
              class="cursor-pointer text-sm font-medium text-red-600 hover:underline dark:text-red-400"
              (click)="onDeleteBook(book._id, book.title)"
            >
              Eliminar
            </button>
          </div>
        </td>
      </tr>
    }
  </tbody>
</table>

<pagination-component
  class="border-t border-slate-200"
  [page]="page()"
  [totalPages]="totalPages()"
  (pageChange)="onPageChange($event)"
/>
